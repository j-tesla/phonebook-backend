{"version":3,"sources":["components/PersonForm.js","components/Persons.js","components/Filter.js","components/Notification.js","services/PhonebookService.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleChange","setNewName","newNumber","setNewNumber","type","Delete","person","deletePerson","onClick","Person","name","number","Persons","persons","filter","toUpperCase","includes","map","Filter","setFilter","Notification","message","green_message_style","color","background","borderStyle","borderRadius","borderColor","padding","marginBottom","style","base_url","phonebookService","getAll","axios","get","create","newObject","post","update","id","put","delete","App","useState","setPersons","notificationMessage","setNotificationMessage","useEffect","then","response","data","catch","error","console","log","makeNotification","setTimeout","Setter","event","target","preventDefault","window","confirm","updatedPerson","find","p","status","updateNumber","concat","trim","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.065215d6.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = props => {\n\n    return (\n        <form onSubmit={props.addPerson}>\n            <div> name: <input value={props.newName} onChange={props.handleChange(props.setNewName)}/></div>\n            <div> number: <input value={props.newNumber} onChange={props.handleChange(props.setNewNumber)}/></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Delete = ({person, deletePerson}) => {\n    const deleteButtonClick = () => {\n        deletePerson(person)\n    }\n\n    return (\n        <>\n            <button onClick={deleteButtonClick}>delete</button>\n        </>\n    )\n}\n\nconst Person = ({person, deletePerson}) => {\n    return (\n        <>\n            {`${person.name} ${person.number}`} <Delete person={person} deletePerson={deletePerson}/>\n            <br/>\n        </>\n    )\n}\n\nconst Persons = ({persons, filter, deletePerson}) => {\n    const doesContainFilter = person => {\n        const name = person.name.toUpperCase()\n        return name.includes(filter.toUpperCase())\n    }\n\n    return (\n        <div>\n            {persons.filter(doesContainFilter).map(person => (\n                <Person key={person.name} person={person} deletePerson={deletePerson}/>\n            ))}\n        </div>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Filter = ({handleChange, filter, setFilter}) => {\n    return (\n        <div>filter shown with: <input value={filter} onChange={handleChange(setFilter)}/></div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({message}) => {\n    if (message == null)\n        return null\n\n    const green_message_style = {\n        color: message.color,\n        background: 'lightgrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        borderColor: message.color,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    return (\n        <h2 style={green_message_style}>{message.message}</h2>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst base_url = 'api/persons'\n\nconst getAll = () => {\n    return axios.get(base_url)\n}\n\nconst create = newObject => {\n    return axios.post(base_url, newObject)\n}\n\nconst update = (id, newObject) => {\n    return axios.put(`${base_url}/${id}`, newObject)\n}\n\nconst delete_ = (id) => {\n    return axios.delete(`${base_url}/${id}`)\n}\n\nconst phonebookService = {getAll, create, update, delete: delete_}\n\nexport default phonebookService","import React, {useState, useEffect} from 'react'\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\";\nimport phonebookService from './services/PhonebookService'\n\nconst App = () => {\n    // states:\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [notificationMessage, setNotificationMessage] = useState(null)\n\n    // effect\n    const downloadJSON = () => {\n        phonebookService.getAll()\n            .then(response => response.data)\n            .then(data => {\n                setPersons(data)\n            })\n            .catch(error => {\n                console.log(`${error}: could not get data from the sever`)\n            })\n    }\n    useEffect(downloadJSON, [])\n\n    // event handlers:\n    const makeNotification = (message, color) => {\n        setNotificationMessage({message, color})\n        setTimeout(() => {\n            setNotificationMessage(null)\n        }, 5000)\n    }\n\n    const updateNumber = () => {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n            let updatedPerson = persons.find(p => p.name === newName)\n            updatedPerson = {...updatedPerson, number: newNumber}\n            phonebookService\n                .update(updatedPerson.id, updatedPerson)\n                .then(response => response.data)\n                .then(data => {\n                    setPersons(persons.map(p => p.id !== data.id ? p : data))\n                    makeNotification(`Updated ${data.name}`, 'green')\n                })\n                .catch(error => {\n                    if (error.response.status === 404) {\n                        makeNotification(`Information about ${updatedPerson.name} has been removed from server`, 'red')\n                        setPersons(persons.filter(p => (p.id !== updatedPerson.id)))\n                    } else if (error.response.status === 400) {\n                        console.log(error)\n                        makeNotification(error.response.data.error, 'red')\n                    }\n                    console.log(error)\n                })\n        }\n    }\n\n    const addPerson = event => {\n        event.preventDefault()\n\n        if (persons.map(person => person.name).includes(newName))\n            updateNumber()\n        else {\n            phonebookService.create({name: newName, number: newNumber})\n                .then(response => response.data)\n                .then(data => {\n                    setPersons(persons.concat(data))\n                    makeNotification(`Added ${data.name}`, 'green')\n                })\n                .catch(error => {\n                    if (error.response.status === 400) {\n                        console.log(error)\n                        makeNotification(error.response.data.error, 'red')\n                    }\n                })\n        }\n\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleChange = Setter =>\n        event => {\n            Setter(event.target.value)\n        }\n\n    const deletePerson = person => {\n        if (window.confirm(`Delete ${person.name}?`))\n            phonebookService.delete(person.id)\n                .then(() => {\n                    setPersons(persons.filter(p => (p.id !== person.id)))\n                    makeNotification(`Deleted ${person.name}`, 'green')\n                })\n                .catch(error => {\n                    if (error.response.status === 404) {\n                        makeNotification(`Information about ${person.name} has already been removed from server`, 'red')\n                        setPersons(persons.filter(p => (p.id !== person.id)))\n                    }\n                    console.log(error)\n                })\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n\n            <Notification message={notificationMessage}/>\n\n            <Filter handleChange={handleChange} filter={filter} setFilter={setFilter}/>\n\n            <h2>Add a new</h2>\n\n            <PersonForm addPerson={addPerson} handleChange={handleChange} newName={newName} setNewName={setNewName}\n                        newNumber={newNumber} setNewNumber={setNewNumber}/>\n\n            <h2>Numbers</h2>\n\n            <Persons persons={persons} filter={filter.trim()} deletePerson={deletePerson}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'))\n"],"sourceRoot":""}